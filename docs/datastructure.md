# üß± –ú–û–î–ï–õ–¨ –î–ê–ù–ù–´–• –î–õ–Ø BLACKCANDLE

–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π, –Ω–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–π –Ω–∞–±–æ—Ä —Å—É—â–Ω–æ—Å—Ç–µ–π –∏ value-–æ–±—ä–µ–∫—Ç–æ–≤ –¥–ª—è —Ä–∞–±–æ—Ç—ã –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–æ–≥–æ –∏ —Ç–æ—Ä–≥–æ–≤–æ–≥–æ –±–æ—Ç–∞.

---

## üìÇ 1. PortfolioAsset

–ê–∫—Ç–∏–≤ –≤ –ø–æ—Ä—Ç—Ñ–µ–ª–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `Ticker` | `string` | –°–∏–º–≤–æ–ª (–Ω–∞–ø—Ä–∏–º–µ—Ä, `SBER`) |
| `Quantity` | `decimal` | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ü–∏–π |
| `BuyPrice` | `decimal` | –¶–µ–Ω–∞ –ø–æ–∫—É–ø–∫–∏ |
| `BuyDate` | `DateTime` | –î–∞—Ç–∞ –ø–æ–∫—É–ø–∫–∏ |

---

## üìÇ 2. Ticker

–ë–∞–∑–æ–≤–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–∏–∫–µ—Ä–µ (–Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è).

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `Symbol` | `string` | –°–∏–º–≤–æ–ª –±—É–º–∞–≥–∏ |
| `Exchange` | `ExchangeType` | –¢–∏–ø –±–∏—Ä–∂–∏ (`TINKOFF`, `SMARTLAB`) |
| `Currency` | `string` | –í–∞–ª—é—Ç–∞ (`RUB`, `USD`) |
| `Sector` | `string` | –û—Ç—Ä–∞—Å–ª—å (–ø–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏) |

---

## üìÇ 3. PriceHistoryPoint

–ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∞—è —Ü–µ–Ω–∞ –±—É–º–∞–≥–∏ (OHLCV).

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `Date` | `DateTime` | –î–∞—Ç–∞ |
| `Open` | `decimal` | –¶–µ–Ω–∞ –æ—Ç–∫—Ä—ã—Ç–∏—è |
| `High` | `decimal` | –ú–∞–∫—Å |
| `Low` | `decimal` | –ú–∏–Ω |
| `Close` | `decimal` | –ó–∞–∫—Ä—ã—Ç–∏–µ |
| `Volume` | `long` | –û–±—ä—ë–º |

---

## üìÇ 4. IndicatorResult

–†–µ–∑—É–ª—å—Ç–∞—Ç —Ç–µ—Ö–∞–Ω–∞–ª–∏–∑–∞ –ø–æ —Ç–∏–∫–µ—Ä—É –∏ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—É.

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `Ticker` | `string` | –°–∏–º–≤–æ–ª |
| `IndicatorType` | `enum` | RSI, EMA, SMA, MACD –∏ —Ç.–¥. |
| `Date` | `DateTime` | –î–∞—Ç–∞ –∑–Ω–∞—á–µ–Ω–∏—è |
| `Value` | `decimal` | –û—Å–Ω–æ–≤–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ |
| `ExtraData` | `Dictionary<string, decimal>` | –î–æ–ø. –ø–æ–ª—è (MACD Signal, EMA Fast –∏ —Ç.–¥.) |

---

## üìÇ 5. FundamentalData

–§—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ —Å Smart-Lab.

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `Ticker` | `string` | –°–∏–º–≤–æ–ª |
| `PERatio` | `decimal?` | P/E |
| `PBRatio` | `decimal?` | P/B |
| `DividendYield` | `decimal?` | –î–∏–≤–¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å |
| `MarketCap` | `decimal?` | –ö–∞–ø–∏—Ç–∞–ª–∏–∑–∞—Ü–∏—è |
| `ROE` | `decimal?` | –†–µ–Ω—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—å –∫–∞–ø–∏—Ç–∞–ª–∞ |

---

## üìÇ 6. TradeSignal

–°–∏–≥–Ω–∞–ª –∫ –¥–µ–π—Å—Ç–≤–∏—é –ø–æ –±—É–º–∞–≥–µ.

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `Ticker` | `string` | –°–∏–º–≤–æ–ª |
| `Action` | `TradeAction` | Buy / Sell / Hold |
| `Reason` | `SignalReason` | –ü—Ä–∏—á–∏–Ω–∞ —Å–∏–≥–Ω–∞–ª–∞ (RSI < 30 –∏ —Ç.–ø.) |
| `Confidence` | `ConfidenceLevel` | –£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å |
| `Date` | `DateTime` | –í—Ä–µ–º—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ |

---

## üìÇ 7. PortfolioAnalysisResult

–†–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ–ª–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –ø–æ –ø–æ—Ä—Ç—Ñ–µ–ª—é.

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `Date` | `DateTime` | –ö–æ–≥–¥–∞ –∞–Ω–∞–ª–∏–∑ –ø—Ä–æ–≤–æ–¥–∏–ª—Å—è |
| `Portfolio` | `List<PortfolioAsset>` | –°–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ—Ä—Ç—Ñ–µ–ª—è –Ω–∞ –º–æ–º–µ–Ω—Ç –∞–Ω–∞–ª–∏–∑–∞ |
| `Signals` | `List<TradeSignal>` | –°–ø–∏—Å–æ–∫ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π |
| `FundamentalsUsed` | `bool` | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏—Å—å –ª–∏ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ |
| `Commentary` | `string` | –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –∞–Ω–∞–ª–∏–∑–∞ |

---

## üìÇ 8. ExecutedTrade

–§–∞–∫—Ç –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è —Å–¥–µ–ª–∫–∏ (–¥–ª—è –∏—Å—Ç–æ—Ä–∏–∏).

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `Ticker` | `string` | –ë—É–º–∞–≥–∞ |
| `Side` | `TradeAction` | Buy / Sell |
| `Quantity` | `decimal` | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ |
| `Price` | `decimal` | –¶–µ–Ω–∞ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è |
| `ExecutedAt` | `DateTime` | –í—Ä–µ–º—è |
| `Status` | `string` | –í—ã–ø–æ–ª–Ω–µ–Ω–æ / –û—à–∏–±–∫–∞ / –û—Ç–∫–∞–∑ |

---

## üìÇ 9. BotSettings

–¢–µ–∫—É—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–æ—Ç–∞.

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `EnableAutoTrading` | `bool` | –†–∞–∑—Ä–µ—à–µ–Ω–æ –ª–∏ –∏—Å–ø–æ–ª–Ω—è—Ç—å —Å–¥–µ–ª–∫–∏ |
| `MaxPositionPerTickerPercent` | `decimal` | –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –Ω–∞ —Ç–∏–∫–µ—Ä |
| `MinTradeAmount` | `decimal` | –ú–∏–Ω–∏–º—É–º –Ω–∞ —Å–¥–µ–ª–∫—É |
| `Schedule` | `CronSchedule` | –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ |
| `BotStatus` | `enum` | Enabled / Disabled / Maintenance |

---

## üìÇ 10. CronSchedule

–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á.

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `Expression` | `string` | cron-—Å—Ç—Ä–æ–∫–∞ |
| `Timezone` | `string` | –ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å |
| `NextRun` | `DateTime` | –°–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫ |

---

## üìÇ 11. LogEntry

–õ–æ–≥ —Ä–∞–±–æ—Ç—ã –ø–∞–π–ø–ª–∞–π–Ω–∞.

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `Timestamp` | `DateTime` | –ö–æ–≥–¥–∞ |
| `Step` | `string` | –ù–∞–∑–≤–∞–Ω–∏–µ —ç—Ç–∞–ø–∞ |
| `Message` | `string` | –ß—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ |
| `Level` | `string` | Info / Warning / Error |

---

## üìÇ Enums

| –ò–º—è | –ó–Ω–∞—á–µ–Ω–∏—è |
|-----|----------|
| `TradeAction` | `Buy`, `Sell`, `Hold` |
| `IndicatorType` | `RSI`, `SMA`, `EMA`, `MACD`, `ADX`, ... |
| `SignalReason` | `RSI_LOW`, `RSI_HIGH`, `MACD_CROSS`, `FUNDAMENTALS_GOOD`, ... |
| `ExchangeType` | `TINKOFF`, `SMARTLAB` |
| `ConfidenceLevel` | `Low`, `Medium`, `High` |
| `BotStatus` | `Enabled`, `Disabled`, `Maintenance` |

---
