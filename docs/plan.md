## üöÄ –ü–õ–ê–ù –†–ê–ó–†–ê–ë–û–¢–ö–ò BLACKCANDLE ‚Äî **–°–¢–ê–î–ò–Ø–ú–ò, –° –ì–û–õ–û–í–û–ô**

---

### üì¶ **–°—Ç–∞–¥–∏—è 1: –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ API**

üîπ –¶–µ–ª—å: –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç, —á—Ç–æ–±—ã —Ö–æ—Ç—å —á—Ç–æ-—Ç–æ —Ä–∞–±–æ—Ç–∞–ª–æ –∏ –Ω–µ —Å—Ç—ã–¥–Ω–æ –±—ã–ª–æ –∫–æ–º–º–∏—Ç–∏—Ç—å.

**–≠—Ç–∞–ø—ã:**
1. [‚úÖ] –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ—à–µ–Ω–∏—è –∏ –≤—Å–µ—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤ (`API`, `Application`, `Infrastructure`, `Domain` –∏ —Ç.–¥.)
2. [‚úÖ] –ë–∞–∑–æ–≤—ã–µ `Domain.Entities`: `Ticker`, `PortfolioAsset`
3. [‚úÖ] ValueObject: `Portfolio`, `PriceHistoryPoint`
4. [‚úÖ] –ò—Å–∫–ª—é—á–µ–Ω–∏—è: `EmptyPortfolioException`, `InvalidTickerException`, `MissingApiKeyException`
5. [‚úÖ] –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã: `IPortfolioService`, `IDataStorage`, `ILoggerService`
6. [‚úÖ] –†–µ–∞–ª–∏–∑–∞—Ü–∏–∏: `InMemoryDataStorage`, `ConsoleLogger`
7. [‚úÖ] DTO + API-–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã (`PortfolioController`, `BaseController`)
8. [‚úÖ] Swagger, –∫–æ–Ω—Ñ–∏–≥–∏, middleware
9. [‚úÖ] Unit-—Ç–µ—Å—Ç—ã –Ω–∞ `PortfolioService`, `InMemoryStorage`

---

### üìä **–°—Ç–∞–¥–∏—è 2: –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä—ã–Ω–æ—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö**

üîπ –¶–µ–ª—å: –ø–æ–ª—É—á–∞—Ç—å –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –∫–æ—Ç–∏—Ä–æ–≤–∫–∏ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞.

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- **MOEX ‚Äî –≤ —Ç–æ–ø–∫—É.**
- –ò—Å–ø–æ–ª—å–∑—É–µ–º:
    - `TinkoffClient` ‚Äî –¥–ª—è —Ü–µ–Ω
    - `SmartLabScraper` ‚Äî –¥–ª—è —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª–∫–∏ (P/E, P/B, –¥–∏–≤—ã, –∫–∞–ø–∏—Ç–∞–ª–∏–∑–∞—Ü–∏—è –∏ —Ç.–¥.)

**–≠—Ç–∞–ø—ã:**
1. [‚úÖ] –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã: `ITinkoffClient`, `ISmartLabClient`
2. [‚úÖ] –ö–æ–º–ø–æ–Ω–µ–Ω—Ç: `MarketDataAggregator`
3. [‚úÖ] –¢–µ—Å—Ç—ã —Å –º–æ–∫–∞–º–∏

---

### üìà **–°—Ç–∞–¥–∏—è 3: –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ (–∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã)**

üîπ –¶–µ–ª—å: –æ–±–æ—Ä–∞—á–∏–≤–∞—Ç—å `Skender.Stock.Indicators` –∏ –Ω–µ —Å–æ–π—Ç–∏ —Å —É–º–∞.

**–≠—Ç–∞–ø—ã:**
1. [‚úÖ] ValueObject: `IndicatorResult`
2. [‚úÖ] Enum: `IndicatorType`
3. [‚úÖ] –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å: `ISkenderIndicatorEngine`
4. [‚úÖ] –†–µ–∞–ª–∏–∑–∞—Ü–∏—è: `SkenderWrapper`
5. [‚úÖ] –°–µ—Ä–≤–∏—Å: `IndicatorService.CalculateIndicators()`
6. [‚úÖ] –¢–µ—Å—Ç—ã: `SkenderWrapperTests`, `IndicatorServiceTests`

---

### üìâ **–°—Ç–∞–¥–∏—è 4: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–æ—Ä–≥–æ–≤—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤**

üîπ –¶–µ–ª—å: –ø—Ä–æ—Å—Ç–∞—è –ª–æ–≥–∏–∫–∞ Buy/Sell/Hold –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤.

**–≠—Ç–∞–ø—ã:**
1. [‚úÖ] Enums: `TradeAction`, `SignalReason`
2. [‚úÖ] Entity: `TradeSignal`
3. [‚úÖ] –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å: `ISignalService`
4. [‚úÖ] –†–µ–∞–ª–∏–∑–∞—Ü–∏—è: `SignalService`
5. [‚úÖ] –ü—Ä–æ—Å—Ç—ã–µ –ø—Ä–∞–≤–∏–ª–∞ —Å–∏–≥–Ω–∞–ª–æ–≤:
    - RSI < 30 + EMA –ø—Ä–æ–±–∏—Ç ‚Üí Buy
    - RSI > 70 + MACD —Ä–∞–∑–≤–æ—Ä–æ—Ç ‚Üí Sell
6. [‚úÖ] –¢–µ—Å—Ç—ã

---

### üß† **–°—Ç–∞–¥–∏—è 5: –§—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑**

üîπ –¶–µ–ª—å: –ø–æ–ª—É—á–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏ —Å Smart-Lab –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏—Ö –≤ —Å–∫–æ—Ä–∏–Ω–≥–µ.

**–≠—Ç–∞–ø—ã:**
1. [‚úÖ] Entity: `FundamentalData`
2. [‚úÖ] –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å: `IFundamentalDataService`
3. [‚úÖ] –†–µ–∞–ª–∏–∑–∞—Ü–∏—è: `SmartLabScraper`
4. [‚úÖ] –°–µ—Ä–≤–∏—Å: `FundamentalScoringService`
5. [‚úÖ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ `SignalService` (–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã)
6. [‚úÖ] –¢–µ—Å—Ç—ã

---

### ü§ñ **–°—Ç–∞–¥–∏—è 6: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ —Å–¥–µ–ª–æ–∫**

üîπ –¶–µ–ª—å: –±–æ—Ç —Å–∞–º —Ç–æ—Ä–≥—É–µ—Ç, –µ—Å–ª–∏ –µ–º—É —Ä–∞–∑—Ä–µ—à–∏–ª–∏.

**–≠—Ç–∞–ø—ã:**
1. [‚úÖ] –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å: `IBrokerTradeClient`
    - `PlaceMarketOrder()`, `GetAvailableCash()`
2. [‚úÖ] –†–µ–∞–ª–∏–∑–∞—Ü–∏—è: `FakeTinkoffTradeClient` (–¥–ª—è –Ω–∞—á–∞–ª–∞)
3. [‚úÖ] –°–µ—Ä–≤–∏—Å: `TradeExecutionService`
4. [‚úÖ] –§–ª–∞–≥ `BotSettings.EnableAutoTrading`
5. [‚úÖ] –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Ä—Ç—Ñ–µ–ª—è –ø–æ—Å–ª–µ —Å–¥–µ–ª–æ–∫
6. [‚úÖ] –¢–µ—Å—Ç—ã

---

### üì® **–°—Ç–∞–¥–∏—è 7: Telegram-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**

üîπ –¶–µ–ª—å: —Å–æ–æ–±—â–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é, —á—Ç–æ –æ–Ω –Ω–∏—â–∏–π, –Ω–æ –¥–µ—Ä–∂–∏—Ç—Å—è.

**–≠—Ç–∞–ø—ã:**
1. [‚úÖ] DTO: `TelegramMessage`, `TelegramSettings`
2. [‚úÖ] –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å: `ITelegramService`
3. [‚úÖ] –†–µ–∞–ª–∏–∑–∞—Ü–∏—è: `TelegramNotifier`
4. [‚úÖ] –ú–µ—Ç–æ–¥: `TelegramService.SendAnalysisSummary()`
5. [üî≤] (–û–ø—Ü.) –ö–æ–º–∞–Ω–¥—ã: `/status`, `/report`, `/autotrade_on`, `/autotrade_off`

---

### ‚è≤Ô∏è **–°—Ç–∞–¥–∏—è 8: –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫**

üîπ –¶–µ–ª—å: –∑–∞–ø—É—Å–∫–∞—Ç—å –≤—Å—ë –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é.

**–≠—Ç–∞–ø—ã:**
1. [‚úÖ] –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å: `ISchedulerAdapter`
2. [‚úÖ] –†–µ–∞–ª–∏–∑–∞—Ü–∏—è: `QuartzScheduler` –∏–ª–∏ `HangfireScheduler`
3. [‚úÖ] ValueObject: `CronSchedule`, `BotStatus`
4. [‚úÖ] –î–∂–æ–±–∞: `PortfolioAnalysisJob`
5. [‚úÖ] API: `SchedulerController.TriggerNow()`

---

### üß† **–°—Ç–∞–¥–∏—è 9: UseCase –∏ —Å–±–æ—Ä–∫–∞ –ø–∞–π–ø–ª–∞–π–Ω–∞**

üîπ –¶–µ–ª—å: –≤–µ—Å—å –∞–Ω–∞–ª–∏–∑ –≤ –æ–¥–Ω–æ–º —Å—Ü–µ–Ω–∞—Ä–∏–∏.

**–≠—Ç–∞–ø—ã:**
1. [‚úÖ] UseCase: `RunPortfolioAnalysisUseCase`
2. [‚úÖ] –°–µ—Ä–≤–∏—Å: `AnalysisResultRepository`
3. [‚úÖ] ValueObject: `PortfolioAnalysisResult`
4. [‚úÖ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
5. [‚úÖ] –õ–æ–≥–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —ç—Ç–∞–ø–æ–≤: `LoggerService.LogStep()`

---

### üß™ **–°—Ç–∞–¥–∏—è 10: –¢–µ—Å—Ç—ã, —Ñ–∏–∫—Å—Ç—É—Ä—ã, —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏—è**

üîπ –¶–µ–ª—å: —á—Ç–æ–±—ã –Ω–∏—á–µ–≥–æ –Ω–µ —Å–ª–æ–º–∞–ª–æ—Å—å –ø—Ä–∏ –ø–µ—Ä–≤–æ–π –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ.

**–≠—Ç–∞–ø—ã:**
1. [‚úÖ] –ú–æ–∫–∏: `FakeTinkoffClient`, `MockStorage`, `FakeTelegram`
2. [‚úÖ] Fixtures: —Ç–∏–∫–µ—Ä—ã, –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã, –ø–æ—Ä—Ç—Ñ–µ–ª–∏
3. [‚úÖ] –ü–æ–∫—Ä—ã—Ç–∏–µ: `Application`, `Infrastructure`, `Scheduler`, `Telegram`

---

### üìä **–°—Ç–∞–¥–∏—è 11: (–û–ø—Ü.) –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è**

üîπ –¶–µ–ª—å: —á—Ç–æ–± –ø–æ–∫–∞–∑–∞—Ç—å –Ω–∞ –º–∏—Ç–∞–ø–µ –∏–ª–∏ –º–∞–º–µ.

**–≠—Ç–∞–ø—ã:**
1. [üî≤] –ú–∏–Ω–∏-—Ñ—Ä–æ–Ω—Ç: React + Chart.js
2. [üî≤] API: –≥—Ä–∞—Ñ–∏–∫–∏, –ª–æ–≥–∏
3. [üî≤] Swagger –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

---

## ‚úÖ –ü—Ä–∞–≤–∏–ª–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

- –ö–∞–∂–¥–∞—è –∑–∞–¥–∞—á–∞ ‚Äî —Å `XML` –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π
- –¢–æ–ª—å–∫–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–µ –∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ
- –î–µ–ª–µ–Ω–∏–µ –ø–æ —Å–ª–æ—è–º (`Domain`, `Application`, `Infrastructure`)
- 0% —Ö–∞—Ä–¥–∫–æ–¥–∞, 100% ‚Äî –±–æ–ª—å –∏ —á–∏—Å—Ç–æ—Ç–∞

---

